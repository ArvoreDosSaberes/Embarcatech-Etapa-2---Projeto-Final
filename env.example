# MQTT Configuration
MQTT_SERVER=mqtt.rapport.tec.br
MQTT_PORT=1883
MQTT_USERNAME=rack
MQTT_PASSWORD=
MQTT_KEEPALIVE=60
MQTT_BASE_TOPIC=racks/
MQTT_CLIENT_ID="Rack Inteligente"
MQTT_RACK_NUMBER="PICOW001"

# MQTT Topics Structure:
# racks/<rack_id>/status (1=aberto/0=fechado)
# racks/<rack_id>/command/door (1=abrir/0=fechar)
# racks/<rack_id>/command/ventilation (1=ligar/0=desligar)
# racks/<rack_id>/command/buzzer (0=desligado/1=porta aberta/2=arrombamento/3=superaquecimento)
# racks/<rack_id>/environment/temperature (0-100)
# racks/<rack_id>/environment/humidity (0-100)

# Generative AI Configuration
GENAI_API_KEY=your_api_key_here
GENAI_URL=generativa.rapport.tec.br/api/v1
GENAI_MODEL=granite4:3b

# Log Level (0=NONE, 1=ERROR, 2=WARN, 3=INFO, 4=DEBUG)
LOG_LEVEL=3

# ===========================================
# AI Control - Schmitt Trigger Thresholds
# ===========================================
# Histerese para temperatura (em °C)
# Ventilação liga quando temp >= TEMP_HIGH_THRESHOLD
# Ventilação desliga quando temp <= TEMP_LOW_THRESHOLD
TEMP_HIGH_THRESHOLD=35
TEMP_LOW_THRESHOLD=28

# Alerta crítico de temperatura
TEMP_CRITICAL_THRESHOLD=45
TEMP_CRITICAL_RESET=40

# Histerese para umidade (em %)
HUMIDITY_HIGH_THRESHOLD=80
HUMIDITY_LOW_THRESHOLD=60

# Análise preditiva
# Janela de histórico para cálculo de tendência (em minutos)
TREND_HISTORY_WINDOW=60
# Taxa mínima de variação para considerar tendência (°C/min ou %/min)
TREND_MIN_RATE=0.1
# Intervalo de análise AI (em segundos)
AI_ANALYSIS_INTERVAL=10

# ===========================================
# Forecast Service - Fallback SARIMA
# ===========================================
# Intervalo de agregação de dados em segundos (3600 = 1 hora)
FORECAST_SAMPLE_INTERVAL=3600
# Horizonte de previsão em passos (24 passos = 24 horas com intervalo de 1h)
FORECAST_HORIZON=24
# Tamanho do contexto/histórico em passos (168 = 7 dias * 24 horas)
FORECAST_CONTEXT_LENGTH=168
# Limiar de MAE para ativar fallback SARIMA (Mean Absolute Error)
# Se o erro do modelo Granite exceder este valor, o SARIMA assume
FORECAST_MAE_THRESHOLD=5.0
# Período sazonal diário (24 horas)
FORECAST_SEASONAL_PERIOD_DAILY=24
# Período sazonal anual (365 dias * 24 horas = 8760)
FORECAST_SEASONAL_PERIOD_ANNUAL=8760
# Habilitar sazonalidade anual para previsão climática
FORECAST_ENABLE_ANNUAL_SEASONALITY=true
